{
  "configuration": {
    "chunk_duration_sec": 3600,
    "trim_samples_start": 0,
    "trim_samples_end": 0,
    "seed": 0,
    "allow_partial_final_chunk": false,
    "target_fs_hz": 10,
    "lowpass_hz": 1.0,
    "filter_order": 3,
    "window_sec": 20,
    "step_sec": 5,
    "r_low": 0.2,
    "r_high": 0.8,
    "g_min": 0.2,
    "min_samples_per_window": 0,
    "min_valid_windows": 5,
    "baseline_method": "uv_raw_percentile_session",
    "baseline_percentile": 10,
    "f0_min_value": 1.0,
    "npm_time_axis": "system_timestamp",
    "sampling_rate_hz_fallback": 40.0,
    "timestamp_cv_max": 0.02,
    "duration_tolerance_frac": 0.02,
    "qc_max_chunk_fail_fraction": 0.2,
    "peak_threshold_method": "percentile",
    "peak_threshold_k": 2.0,
    "peak_threshold_percentile": 95,
    "peak_min_distance_sec": 1.0,
    "rwd_time_col": "TimeStamp",
    "uv_suffix": "-410",
    "sig_suffix": "-470",
    "npm_frame_col": "FrameCounter",
    "npm_system_ts_col": "SystemTimestamp",
    "npm_computer_ts_col": "ComputerTimestamp",
    "npm_led_col": "LedState",
    "npm_region_prefix": "Region",
    "npm_region_suffix": "G"
  },
  "derived_settings": {
    "regression_window_sec": 20,
    "regression_step_sec": 5,
    "target_fs_hz": 10,
    "chunk_duration_sec": 3600,
    "strict_mode_enabled": true,
    "tonic_period_of_interest_sec": 86400.0,
    "tonic_warning_ratio_threshold": 0.5,
    "tonic_attenuation_warning": true,
    "warnings": [
      "Regression window may attenuate slow tonic structure."
    ]
  },
  "analytical_contract": {
    "strict_mode_guarantees": [
      "timestamps are strictly increasing (per channel where relevant)",
      "resampling onto a fixed grid of length round(chunk_duration_sec * target_fs_hz)",
      "no extrapolation beyond available data (strict start/end coverage enforced)",
      "NPM UV and SIG are validated independently (per-channel checks)"
    ],
    "pipeline_limitations": [
      "no tonic-phasic decomposition",
      "no circadian fitting",
      "no Bayesian correction"
    ],
    "signal_semantics": {
      "uv_raw": "raw isosbestic channel on the canonical grid",
      "sig_raw": "raw calcium-dependent channel on the canonical grid",
      "uv_fit": "estimated artifact component derived from uv_filt fit to sig_filt",
      "delta_f": "sig_raw - uv_fit (artifact-corrected numerator only)",
      "dff": "100 * delta_f / F0 (if computed)"
    }
  }
}